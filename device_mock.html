<!DOCTYPE html>
<html>
  <head>
      <title>Mock</title>
      <link rel='stylesheet' type='text/css' href='assets/main.css'>
      <link rel='stylesheet' type='text/css' href='assets/semantic.min.css'>
      <script src='assets/jquery.min.js'></script>
      <script src='assets/semantic.min.js'></script>
      <script src='assets/main.js'></script>
      <script>
        $(function() {
          $('.button.fire').click(function(){
            $.ajax({
              method: "POST",
              url: "http://ec2-54-237-22-83.compute-1.amazonaws.com/alert",
              data: { device_id: 1, priority: 5, description: 'The building is on fire!' },
              success: function (data) {
                $('#alert-message').html('<br /><h2>The building is on Fire! Alert has been sent.</h2>');
              },
              error: function (data) {
              }
            });
          });
          $('.button.water').click(function(){
            $.ajax({
              method: "POST",
              url: "http://ec2-54-237-22-83.compute-1.amazonaws.com/alert",
              data: { device_id: 6, priority: 2, description: 'A water leak has been detected.' },
              success: function (data) {
                $('#alert-message').html('<br /><h2>The leak has been detected! Alert has been sent.</h2>');
              },
              error: function (data) {
              }
            });
          });
          $('.button.power').click(function(){
            $.ajax({
              method: "POST",
              url: "http://ec2-54-237-22-83.compute-1.amazonaws.com/alert",
              data: { device_id: 2, priority: 4, description: 'The electricty is out!' },
              success: function (data) {
                $('#alert-message').html('<br /><h2>A power failure was detected. Alert has been sent.</h2>');
              },
              error: function (data) {
              }
            });
          });
          $('#fire-toggle').click(function(){
            $('a.item').removeClass('active');
            $(this).addClass('active');
            $('.button').addClass('hidden');
            $('.button.fire').removeClass('hidden');
            $('#alert-message').html('');
          });
          $('#water-toggle').click(function(){
            $('a.item').removeClass('active');
            $(this).addClass('active');
            $('.button').addClass('hidden');
            $('.button.water').removeClass('hidden');
            $('#alert-message').html('');
          });
          $('#power-toggle').click(function(){
            $('a.item').removeClass('active');
            $(this).addClass('active');
            $('.button').addClass('hidden');
            $('.button.power').removeClass('hidden');
            $('#alert-message').html('');
          });
        });
      </script>
  </head>
  <body bgcolor='#242624'>
    <div class='ui raised segment'>
      <div class='ui teal dividing header'>
        <i class='configure icon'></i>
        <div class='content'>
          Fix It Now!
          <div class='sub header'>Crowd Sourced Facility Management</div>
        </div>
      </div>
    </div>
    <div id='main'>
      <div class="ui three item teal menu">
        <a class="active item" id='fire-toggle'>
          <img src="assets/fireicon.png">
        </a>
        <a class="item" id='water-toggle'>
          <img src="assets/watericon.png">
        </a>
        <a class="item" id='power-toggle'>
          <img src="assets/powericon.png">
        </a>
      </div>
      <div id='alarm-contents' class="ui center aligned segment">
        <div class="ui red fire button">Simulate Fire Alarm</div>
        <div class="ui red water button hidden">Simulate Pipe Leak</div>
        <div class="ui red power button hidden">Simulate Power Ottage</div>
        <div id="alert-message"></div>
      </div>
    </div>
  </body>
</html>